

  NodeTypeScriptGenerator
    declarationGenerate
â–¶ token-storage
  â–¶ saveAuthConfig
    [31mâœ– should save a single profile with comment [90m(2.120333ms)[39m[39m
      âœ” should generate basic code structure when no configs exist
    [31mâœ– should save multiple profiles [90m(1.068458ms)[39m[39m
  [31mâœ– saveAuthConfig [90m(3.537625ms)[39m[39m
      âœ” should generate type definitions for configs and feature flags, not schema, or empty configurations
  â–¶ loadAuthConfig
    [31mâœ– should load a single profile [90m(1.764959ms)[39m[39m
    [32mâœ” should load multiple profiles [90m(0.512042ms)[39m[39m
      âœ” should generate function accessor methods for function configs
    [31mâœ– should return null for missing file [90m(0.860958ms)[39m[39m
  [31mâœ– loadAuthConfig [90m(3.285083ms)[39m[39m
  â–¶ getActiveProfile
    [32mâœ” should return provided argument first [90m(0.219667ms)[39m[39m
    [32mâœ” should return env var if no argument [90m(0.199084ms)[39m[39m
    [32mâœ” should return "default" if no argument or env var [90m(0.215625ms)[39m[39m
    [32mâœ” should prioritize: arg > env > default [90m(0.190292ms)[39m[39m
  [32mâœ” getActiveProfile [90m(0.947209ms)[39m[39m
[31mâœ– token-storage [90m(8.534209ms)[39m[39m
      âœ” should generate durations correctly
      âœ” should prefix method names with underscore when they start with a digit
      âœ” should properly camelCase various key formats
    generate
      âœ” should generate basic code structure when no configs exist
      âœ” should include Mustache import when function configs exist
      âœ” should generate type definitions for configs and feature flags, not schema, or empty configurations
      âœ” should generate function accessor methods for function configs
      âœ” should generate durations correctly
      âœ” should prefix method names with underscore when they start with a digit
      âœ” should properly camelCase various key formats
      âœ” should throw an error when method names conflict

  ReactTypeScriptGenerator
    declarationGenerate
      âœ” should generate basic code structure when no configs exist
      âœ” should generate type definitions for configs and feature flags, not schema, empty configurations, or non-client configs
      âœ” should generate function accessor methods for function configs
      âœ” should generate durations correctly
      âœ” should prefix method names with underscore when they start with a digit
      âœ” should properly camelCase various key formats
    generate
      âœ” should generate basic code structure when no configs exist
      âœ” should include Mustache import when function configs exist
      âœ” should generate type definitions for configs and feature flags, not schema, empty configurations, or non-client configs
      âœ” should generate function accessor methods for function configs
      âœ” should generate durations correctly
      âœ” should prefix method names with underscore when they start with a digit
      âœ” should properly camelCase various key formats
      âœ” should throw an error when method names conflict

  JsonToZodMapper
    resolve
      âœ” should resolve homogeneous array of numbers
      âœ” should resolve homogeneous array of strings
      âœ” should resolve homogeneous array of booleans
      âœ” should resolve heterogeneous array to unknown
      âœ” should resolve object with primitive types
      âœ” should resolve deeply nested objects
      âœ” should resolve array of objects
      âœ” should resolve null values

  ZodToStringMapper
    renderField
      âœ” Can successfully parse strings
      âœ” Can successfully parse numbers
      âœ” Can successfully parse integer numbers
      âœ” Can successfully parse booleans
      âœ” Can successfully parse any
      âœ” Can successfully parse an array wrapped type
      âœ” Can successfully parse an array chained type
      âœ” Can successfully parse an enum
      âœ” Can successfully parse null
      âœ” Can successfully parse undefined
      âœ” Can successfully parse unknown
      âœ” Can successfully parse unions
      âœ” Can successfully parse unions defined with or chaining
      âœ” Can successfully parse tuples
      âœ” Can successfully parse objects
      âœ” Can successfully parse an optional wrapped type
      âœ” Can successfully parse an optional chained type
      âœ” Can successfully parse functions
      âœ” Can successfully complex combinations of types

  ZodToTypescriptMapper
    renderField
      âœ” Can successfully parse strings
      âœ” Can successfully parse numbers
      âœ” Can successfully parse integer numbers
      âœ” Can successfully parse booleans
      âœ” Can successfully parse any
      âœ” Can successfully parse an array wrapped type
      âœ” Can successfully parse an array chained type
      âœ” Can successfully parse an enum
      âœ” Can successfully parse null
      âœ” Can successfully parse undefined
      âœ” Can successfully parse unknown
      âœ” Can successfully parse unions
      âœ” Can successfully parse unions defined with or chaining
      âœ” Can successfully parse tuples
      âœ” Can successfully parse objects
      âœ” Can successfully parse an optional wrapped type
      âœ” Can successfully parse an optional chained type
      when the target = "accessor"
        âœ” Can successfully parse functions
        âœ” Can successfully complex combinations of types
      when the target = "raw"
        âœ” Can successfully parse functions
        âœ” Can successfully complex combinations of types

  ZodToTypescriptReturnValueMapper
    renderField
      âœ” Can successfully parse strings
      âœ” Can successfully parse strings with property paths
      âœ” Can successfully parse numbers
      âœ” Can successfully parse numbers with property paths
      âœ” Can successfully parse integer numbers
      âœ” Can successfully parse integer numbers with property paths
      âœ” Can successfully parse booleans
      âœ” Can successfully parse booleans with property paths
      âœ” Can successfully parse any
      âœ” Can successfully parse any with property paths
      âœ” Can successfully parse an array wrapped type
      âœ” Can successfully parse an array wrapped type with property paths
      âœ” Can successfully parse an array chained type
      âœ” Can successfully parse an array chained type with property paths
      âœ” Can successfully parse an enum
      âœ” Can successfully parse an enum with property paths
      âœ” Can successfully parse null
      âœ” Can successfully parse null with property paths
      âœ” Can successfully parse undefined
      âœ” Can successfully parse undefined with property paths
      âœ” Can successfully parse unknown
      âœ” Can successfully parse unknown with property paths
      âœ” Can successfully parse unions
      âœ” Can successfully parse unions defined with or chaining with property paths
      âœ” Can successfully parse unions defined with or chaining
      âœ” Can successfully parse unions defined with or chaining with property paths
      âœ” Can successfully parse tuples
      âœ” Can successfully parse tuples with property paths
      âœ” Can successfully parse objects
      âœ” Can successfully parse objects with property paths
      âœ” Can successfully parse an optional wrapped type
      âœ” Can successfully parse an optional wrapped type with property paths
      âœ” Can successfully parse an optional chained type
      âœ” Can successfully parse an optional chained type with property paths
      âœ” Can successfully parse functions
      âœ” Can successfully parse functions with property paths
      âœ” Can successfully complex combinations of types

  MustacheExtractor
    âœ” extracts simple placeholders
    âœ” handles section with variables
    âœ” handles inverted sections
    âœ” handles complex nested template
    âœ” validates data against generated schema

  SchemaEvaluator
    secureEvaluateSchema
      âœ” should properly evaluate valid schema strings
      âœ” should handle complex schema strings
      âœ” should reject schema strings with syntax errors
      âœ” should reject schema strings with unsupported operations
      âœ” should reject schema strings attempting to use unsupported properties
      âœ” should allow valid refinements with arrow functions
      âœ” should reject schema strings exceeding maximum complexity
      âœ” should handle enum types properly
      âœ” should handle union types

  SchemaExtractor
    execute
      âœ” should use user-defined schema when available
      âœ” should infer schema when no user-defined schema is available
      âœ” should infer a union of schema when multiple schemas are found
      âœ” should use custom duration type map when provided
      âœ” should replace strings with Mustache templates when found
      âœ” should replace strings with a union of Mustache templates when found

  create
    type=boolean-flag
      1) can create a boolean flag
      2) can create a boolean flag and return a JSON response
      3) can create a boolean flag with a true default
      4) returns an error if the flag exists
      âœ” returns an error if the value is not a boolean
{"key":"already.in.use","phase":"creation","serverError":{"message":"Unauthorized","_links":{"self":{"href":"/flags/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}}
      âœ” returns a JSON error if the flag exists
    type=string
      5) can create a string
      6) can create a string
      7) can create a string provided by an env var
      8) can create a confidential string provided by an env var
      âœ” shows an error when provided a default and an env-var
    type=int
      9) can create an int
converting...
      âœ” returns an error if the value is not an int
      10) can create an int provided by an env var
    type=double
      11) can create a double
      âœ” returns an error if the value is not a double
    type=boolean
      12) can create a boolean
      âœ” returns an error if the value is not a boolean
    type=string-list
      13) can create a string list
    type=json
      14) can create a JSON object
      âœ” returns an error if the value is not JSON
    secret
      when no encryption key can be found
        15) complains about the missing key
      type=string
        16) can create a string
      type=NOT_STRING
        âœ” errors

  download
    when the download server responds successfully
      17) saves the file and returns a success message
      18) saves the file and returns JSON
    when the download server does not respond successfully
      19) saves the file and returns a success message
      20) saves the file and returns JSON
    when the provided environment is invalid
      21) saves the file and returns a success message
{"serverError":{"message":"Unauthorized","_links":{"self":{"href":"/environments/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}}
      âœ” saves the file and returns JSON

  generate-new-hex-key
    âœ” generates a new hex key
    âœ” generates JSON output with a new key

  generate
    22) runs generate without flags
    23) generates TypeScript definitions
    24) generates React TypeScript definitions
    25) handles invalid targets
    local configuration file parsing
      26) uses default config when no local config file exists
      27) loads and uses valid local config file
      28) falls back to global outputDirectory when target-specific not provided
      29) uses global config as fallback for missing target-specific properties
      30) handles empty targets object
      âœ” handles invalid JSON in config file
      âœ” validates config schema and rejects invalid types
      31) handles minimal empty config object
      32) handles multiple targets with custom filenames
      âœ” handles case where config path is a directory

  get
    33) returns a value for a valid name
    34) returns JSON for a value for a valid name
    35) decrypts a secret
    36) shows an error if the key is invalid
    âœ” shows an error if no key is provided when things aren't interactive

  info
    when there are evaluations in the last 24 hours
      37) returns info for a name
      38) returns JSON for a name
    when there are no evaluations in the last 24 hours
      39) returns a message
      40) returns JSON
      41) decrypts a secret
      42) shows [confidential] for confidential items
    when the key does not exist
      43) returns a message
      44) returns a JSON error

  list
    45) lists everything by default
    46) lists only flags
    47) lists only configs
    48) lists only log levels
    49) lists only segments
    50) lists multiple types

  override
    51) overrides a boolean flag when given a valid key and value
    52) overrides a double config when given a valid key and value
    53) overrides a string list config when given a valid key and value
    54) shows an error when the value type is wrong
    55) shows an error when the key does not exist
    âœ” shows an error when given remove and a value
    56) removes an override successfully
    57) succeeds when trying to remove an override that does not exist

  schema
    âœ” requires an action flag
    get
      58) can get a schema
      59) can get a schema and return JSON
      âœ” handles non-existent schema
    set-zod
      60) can create a new schema
      61) can update an existing schema
      62) can create a schema and return JSON

  serve
    success
      when the context matches a rule
        âœ” succeeds with a valid JSON file an uses the provided context to determine flag state
      when the context does not match a rule
        âœ” succeeds with a valid JSON file an uses the provided context to determine flag state
    file issues
      âœ” shows an error when the file does not exist
      âœ” shows an error when the file is invalid
      âœ” shows an error when the file is invalid

  set-default
    success
      63) can change the default for a boolean flag
      64) can change the default for a boolean flag with json output
      65) can change the default for a string flag
      66) can change the default for a string flag with json output
      67) can create a string provided by an env var
      68) can create a secret string
      69) uses encryption if any existing value for the key is encrypted
      70) can update a json config
    failure
      71) shows an error when the key does not exist
      72) shows an error when the value isn't valid for the boolean key
      73) shows an error when the value isn't valid for the int key
    parsing errors
      74) shows an error if no key is provided when things aren't interactive
      75) shows an error if no environment is provided when things aren't interactive
      âœ” shows an error when provided a value and an env-var


  157 passing (3s)
  75 failing

  1) create
       type=boolean-flag
         can create a boolean flag:
     Error: Failed to create boolean flag: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/flags/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.createBooleanFlag (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:166:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  2) create
       type=boolean-flag
         can create a boolean flag and return a JSON response:
     Error: the object {
  "key": "brand.new.flag"
  "phase": "creation"
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/flags/v1"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  3) create
       type=boolean-flag
         can create a boolean flag with a true default:
     Error: Failed to create boolean flag: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/flags/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.createBooleanFlag (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:166:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  4) create
       type=boolean-flag
         returns an error if the flag exists:
     AssertionError: expected 'Failed to create boolean flag: 401 | â€¦' to include 'Failed to create boolean flag: alreadâ€¦'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/create.test.ts:40:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  5) create
       type=string
         can create a string:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  6) create
       type=string
         can create a string:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  7) create
       type=string
         can create a string provided by an env var:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  8) create
       type=string
         can create a confidential string provided by an env var:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  9) create
       type=int
         can create an int:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  10) create
       type=int
         can create an int provided by an env var:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  11) create
       type=double
         can create a double:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  12) create
       type=boolean
         can create a boolean:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  13) create
       type=string-list
         can create a string list:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  14) create
       type=json
         can create a JSON object:
     Error: Failed to create config: 401 | {"message":"Unauthorized","_links":{"self":{"href":"/configs/v1","templated":false}},"_embedded":{"errors":[{"message":"Unauthorized"}]}}
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:115:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  15) create
       secret
         when no encryption key can be found
           complains about the missing key:
     AssertionError: expected 'Failed to fetch encryption key configâ€¦' to include 'Failed to create secret: missing.secrâ€¦'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/create.test.ts:169:42
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  16) create
       secret
         type=string
           can create a string:
     Error: Failed to fetch encryption key config reforge.secrets.encryption.key: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Create.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Create.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Create.resultMessage (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:49:25)
      at Create.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/create.ts:81:30)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Create._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  17) download
       when the download server responds successfully
         saves the file and returns a success message:
     Error: Failed to fetch environments: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Download.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Download.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at getEnvironments (file:///Users/james.kebinger/dev/src/typescript/cli/src/api/get-environments.ts:5:24)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async getEnvironment (file:///Users/james.kebinger/dev/src/typescript/cli/src/ui/get-environment.ts:9:26)
      at async Download.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/download.ts:35:29)
      at async Download._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  18) download
       when the download server responds successfully
         saves the file and returns JSON:
     Error: the object {
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/environments/v1"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  19) download
       when the download server does not respond successfully
         saves the file and returns a success message:
     AssertionError: expected 'Failed to fetch environments: 401' to match /Failed to download file. Status=500/
      at Object.catch (node_modules/fancy-test/lib/catch.js:14:48)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  20) download
       when the download server does not respond successfully
         saves the file and returns JSON:
     AssertionError: the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/download.test.ts:48:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  21) download
       when the provided environment is invalid
         saves the file and returns a success message:
     AssertionError: expected 'Failed to fetch environments: 401' to match /Environment `this.does.not.exist` not found. Valid environments: Production, test/
      at Object.catch (node_modules/fancy-test/lib/catch.js:14:48)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  22) generate
       runs generate without flags:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  23) generate
       generates TypeScript definitions:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  24) generate
       generates React TypeScript definitions:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  25) generate
       handles invalid targets:
     AssertionError: expected 'Failed to download config: 401' to include 'Unsupported target: invalid'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/generate.test.ts:53:34
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  26) generate
       local configuration file parsing
         uses default config when no local config file exists:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  27) generate
       local configuration file parsing
         loads and uses valid local config file:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  28) generate
       local configuration file parsing
         falls back to global outputDirectory when target-specific not provided:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  29) generate
       local configuration file parsing
         uses global config as fallback for missing target-specific properties:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  30) generate
       local configuration file parsing
         handles empty targets object:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  31) generate
       local configuration file parsing
         handles minimal empty config object:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  32) generate
       local configuration file parsing
         handles multiple targets with custom filenames:
     Error: Failed to download config: 401
      at ConfigDownloader.downloadConfig (file:///Users/james.kebinger/dev/src/typescript/cli/src/codegen/config-downloader.ts:10:23)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Generate.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/generate.ts:128:32)
      at async Generate._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  33) get
       returns a value for a valid name:
     Error: Failed to fetch environments: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Get.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Get.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at getEnvironments (file:///Users/james.kebinger/dev/src/typescript/cli/src/api/get-environments.ts:5:24)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async getEnvironment (file:///Users/james.kebinger/dev/src/typescript/cli/src/ui/get-environment.ts:9:26)
      at async Get.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/get.ts:22:29)
      at async Get._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  34) get
       returns JSON for a value for a valid name:
     Error: the object {
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/environments/v1"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  35) get
       decrypts a secret:
     Error: Failed to fetch environments: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Get.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Get.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at getEnvironments (file:///Users/james.kebinger/dev/src/typescript/cli/src/api/get-environments.ts:5:24)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async getEnvironment (file:///Users/james.kebinger/dev/src/typescript/cli/src/ui/get-environment.ts:9:26)
      at async Get.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/get.ts:22:29)
      at async Get._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  36) get
       shows an error if the key is invalid:

      AssertionError: expected 'Failed to fetch environments: 401' to deeply equal 'this-does-not-exist does not exist'
      + expected - actual

      -Failed to fetch environments: 401
      +this-does-not-exist does not exist
      
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/get.test.ts:37:34
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  37) info
       when there are evaluations in the last 24 hours
         returns info for a name:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Info.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Info.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Info.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/info.ts:21:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Info._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  38) info
       when there are evaluations in the last 24 hours
         returns JSON for a name:
     Error: the object {
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/all-config-types/v1/metadata"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  39) info
       when there are no evaluations in the last 24 hours
         returns a message:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Info.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Info.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Info.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/info.ts:21:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Info._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  40) info
       when there are no evaluations in the last 24 hours
         returns JSON:
     Error: the object {
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/all-config-types/v1/metadata"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  41) info
       when there are no evaluations in the last 24 hours
         decrypts a secret:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Info.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Info.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Info.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/info.ts:21:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Info._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  42) info
       when there are no evaluations in the last 24 hours
         shows [confidential] for confidential items:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Info.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Info.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Info.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/info.ts:21:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Info._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  43) info
       when the key does not exist
         returns a message:
     AssertionError: expected 'Failed to fetch configs: 401' to include 'Key this.does.not.exist not found'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/info.test.ts:138:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  44) info
       when the key does not exist
         returns a JSON error:

      AssertionError: expected { serverError: { â€¦(3) } } to deeply equal { Object (error) }
      + expected - actual

       {
      -  "serverError": {
      -    "_embedded": {
      -      "errors": [
      -        {
      -          "message": "Unauthorized"
      -        }
      -      ]
      -    }
      -    "_links": {
      -      "self": {
      -        "href": "/all-config-types/v1/metadata"
      -        "templated": false
      -      }
      -    }
      -    "message": "Unauthorized"
      -  }
      +  "error": "Key this.does.not.exist not found"
       }
      
      at Context.<anonymous> (file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/info.test.ts:149:47)
      at Object.run (node_modules/fancy-test/lib/base.js:44:38)
      at Context.run (node_modules/fancy-test/lib/base.js:68:36)

  45) list
       lists everything by default:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at List.error (node_modules/@oclif/core/lib/command.js:177:23)
      at List.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at List.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/list.ts:20:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async List._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  46) list
       lists only flags:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at List.error (node_modules/@oclif/core/lib/command.js:177:23)
      at List.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at List.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/list.ts:20:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async List._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  47) list
       lists only configs:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at List.error (node_modules/@oclif/core/lib/command.js:177:23)
      at List.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at List.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/list.ts:20:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async List._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  48) list
       lists only log levels:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at List.error (node_modules/@oclif/core/lib/command.js:177:23)
      at List.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at List.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/list.ts:20:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async List._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  49) list
       lists only segments:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at List.error (node_modules/@oclif/core/lib/command.js:177:23)
      at List.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at List.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/list.ts:20:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async List._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  50) list
       lists multiple types:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at List.error (node_modules/@oclif/core/lib/command.js:177:23)
      at List.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at List.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/list.ts:20:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async List._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  51) override
       overrides a boolean flag when given a valid key and value:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Override.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Override.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Override.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/override.ts:32:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Override._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  52) override
       overrides a double config when given a valid key and value:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Override.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Override.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Override.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/override.ts:32:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Override._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  53) override
       overrides a string list config when given a valid key and value:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Override.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Override.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Override.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/override.ts:32:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Override._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  54) override
       shows an error when the value type is wrong:
     AssertionError: expected 'Failed to fetch configs: 401' to include 'Failed to override value: 400 -- is pâ€¦'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/override.test.ts:36:34
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  55) override
       shows an error when the key does not exist:
     AssertionError: expected 'Failed to fetch configs: 401' to include 'Could not find config named this.doesâ€¦'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/override.test.ts:43:34
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  56) override
       removes an override successfully:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Override.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Override.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Override.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/override.ts:32:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Override._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  57) override
       succeeds when trying to remove an override that does not exist:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Override.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Override.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Override.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/override.ts:32:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Override._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  58) schema
       get
         can get a schema:
     Error: Failed to get schema: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Schema.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Schema.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Schema.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/schema.ts:22:29)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Schema._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  59) schema
       get
         can get a schema and return JSON:
     Error: the object {
  "name": "my.schema"
  "phase": "get"
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/schemas/v1/schema/my.schema"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  60) schema
       set-zod
         can create a new schema:
     Error: Failed to create schema: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Schema.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Schema.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Schema.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/schema.ts:64:29)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Schema._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  61) schema
       set-zod
         can update an existing schema:
     Error: Failed to create schema: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at Schema.error (node_modules/@oclif/core/lib/command.js:177:23)
      at Schema.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at Schema.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/schema.ts:64:29)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async Schema._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  62) schema
       set-zod
         can create a schema and return JSON:
     Error: the object {
  "name": "new.schema"
  "phase": "creation"
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/schemas/v1"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  63) set-default
       success
         can change the default for a boolean flag:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at SetDefault.error (node_modules/@oclif/core/lib/command.js:177:23)
      at SetDefault.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at SetDefault.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/set-default.ts:46:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async SetDefault._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  64) set-default
       success
         can change the default for a boolean flag with json output:
     Error: the object {
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/all-config-types/v1/metadata"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  65) set-default
       success
         can change the default for a string flag:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at SetDefault.error (node_modules/@oclif/core/lib/command.js:177:23)
      at SetDefault.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at SetDefault.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/set-default.ts:46:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async SetDefault._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  66) set-default
       success
         can change the default for a string flag with json output:
     Error: the object {
  "serverError": {
    "_embedded": {
      "errors": [
        {
          "message": "Unauthorized"
        }
      ]
    }
    "_links": {
      "self": {
        "href": "/all-config-types/v1/metadata"
        "templated": false
      }
    }
    "message": "Unauthorized"
  }
} was thrown, throw an Error :)
  

  67) set-default
       success
         can create a string provided by an env var:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at SetDefault.error (node_modules/@oclif/core/lib/command.js:177:23)
      at SetDefault.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at SetDefault.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/set-default.ts:46:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async SetDefault._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  68) set-default
       success
         can create a secret string:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at SetDefault.error (node_modules/@oclif/core/lib/command.js:177:23)
      at SetDefault.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at SetDefault.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/set-default.ts:46:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async SetDefault._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  69) set-default
       success
         uses encryption if any existing value for the key is encrypted:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at SetDefault.error (node_modules/@oclif/core/lib/command.js:177:23)
      at SetDefault.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at SetDefault.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/set-default.ts:46:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async SetDefault._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  70) set-default
       success
         can update a json config:
     Error: Failed to fetch configs: 401
      at Object.error (node_modules/@oclif/core/lib/errors/error.js:37:15)
      at SetDefault.error (node_modules/@oclif/core/lib/command.js:177:23)
      at SetDefault.err (file:///Users/james.kebinger/dev/src/typescript/cli/src/index.ts:33:25)
      at SetDefault.run (file:///Users/james.kebinger/dev/src/typescript/cli/src/commands/set-default.ts:46:25)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async SetDefault._run (node_modules/@oclif/core/lib/command.js:311:22)
      at async Config.runCommand (node_modules/@oclif/core/lib/config/config.js:433:25)
      at async Object.run (node_modules/@oclif/test/lib/command.js:23:28)
      at async Context.run (node_modules/fancy-test/lib/base.js:68:25)

  71) set-default
       failure
         shows an error when the key does not exist:
     AssertionError: expected 'Failed to fetch configs: 401' to include 'Could not find config named this.doesâ€¦'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/set-default.test.ts:112:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  72) set-default
       failure
         shows an error when the value isn't valid for the boolean key:
     AssertionError: expected 'Failed to fetch configs: 401' to include '\'cake\' is not a valid value for feaâ€¦'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/set-default.test.ts:119:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  73) set-default
       failure
         shows an error when the value isn't valid for the int key:
     AssertionError: expected 'Failed to fetch configs: 401' to include 'Invalid default value for int: hello'
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/set-default.test.ts:126:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  74) set-default
       parsing errors
         shows an error if no key is provided when things aren't interactive:

      AssertionError: expected 'Failed to fetch configs: 401' to deeply equal '\'name\' argument is required when inâ€¦'
      + expected - actual

      -Failed to fetch configs: 401
      +'name' argument is required when interactive mode isn't available.
      
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/set-default.test.ts:134:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)

  75) set-default
       parsing errors
         shows an error if no environment is provided when things aren't interactive:

      AssertionError: expected 'Failed to fetch configs: 401' to deeply equal '\'environment\' is required when inteâ€¦'
      + expected - actual

      -Failed to fetch configs: 401
      +'environment' is required when interactive mode isn't available.
      
      at file:///Users/james.kebinger/dev/src/typescript/cli/test/commands/set-default.test.ts:140:38
      at Object.catch (node_modules/fancy-test/lib/catch.js:20:13)
      at handleError (node_modules/fancy-test/lib/base.js:56:44)
      at Context.run (node_modules/fancy-test/lib/base.js:72:32)



